<ion-header>
  <ion-navbar>
    <ion-title>Home</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="search()">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)" >
        <ion-refresher-content pullingText="Pull to refresh"
                               refreshingSpinner="circles"
                               refreshingText="Refreshing...">></ion-refresher-content>
    </ion-refresher>
    <ion-list>
        <ion-item-group>
          <ion-item-divider color="dark">Active challenges</ion-item-divider>  <!-- // TODO: add badge for how many challenges! -->
          <ion-item *ngFor="let challenge of myChallenges.slice().reverse() | ChallengesPipe: [1]" detail-push (click)="challengeDetail(challenge)">
            {{challenge.challenger_name}} - {{challenge.challengee_name}}
          </ion-item>
          <ion-item-divider color="dark">Pending challenges</ion-item-divider> <!-- // TODO: add badge for how many challenges! -->


            <div *ngFor="let challenge of myChallenges.slice().reverse() | ChallengesPipe: [0]" >
                <ion-item *ngIf="isChallenger(challenge)" [ngClass]="{'item-disabled': challenge.rejected}">
                    {{challenge.display}} {{challenge.created_at | TimeSincePipe }}
                </ion-item>
                <ion-item *ngIf="!isChallenger(challenge)" [ngClass]="{'item-disabled': challenge.rejected}" detail-push  (click)="challengeDetail(challenge)">
                    {{challenge.display}} {{challenge.created_at | TimeSincePipe }}
                </ion-item>
            </div>


        </ion-item-group>
    </ion-list>
</ion-content>
